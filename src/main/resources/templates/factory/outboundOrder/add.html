<!DOCTYPE html>
<html>
<meta charset="utf-8">
<head th:include="include :: header"></head>
<body class="gray-bg">
<div class="row wrapper wrapper-content">
    <div class="col-sm-12">
        <div class="ibox float-e-margins">
            <div class="ibox-content">
                <form class="form-horizontal m-t" enctype="multipart/form-data" id="signupForm" style="margin:10px">
                    <div class="form-group">
                        <h4>基本信息</h4>
                        <table class="table table-striped table-bordered table-hover">
                            <tr>
                                <th>关联表单编号</th>
                                <td>
                                    <input id="associatedTableId" name="associatedTableId" type="hidden">
                                    <input class="form-control" id="associatedTableCode" name="associatedTableCode"
                                           onchange="addProduct()" onclick="selectAssociatedTable()" readonly
                                           type="text">
                                </td>
                                <th>关联表单类型</th>
                                <td>
                                    <select class="chosen-select form-control" data-placeholder="关联表单类型"
                                            id="associatedTableType"
                                            name="associatedTableType"></select>
                                </td>
                            </tr>
                            <tr>
                                <th>发货单位</th>
                                <td>
                                    <input id="consigneeId" name="consigneeId" type="hidden">
                                    <input class="form-control" id="consignee" name="consignee" readonly
                                           type="text">
                                </td>
                                <th>*出库单编号</th>
                                <td>
                                    <input id="outboundId" name="outboundId" type="hidden">
                                    <input class="form-control" id="outboundCode" name="outboundCode"
                                           readonly required th:value="${uuid}" type="text">
                                </td>
                            </tr>
                            <tr>
                                <th>*出库业务类型
                                </th>
                                <td>
                                    <input id="businessType" name="businessType" type="hidden" value="other">
                                    <input class="form-control" id="businessTypeName" name="businessTypeName" readonly
                                           required type="text"
                                           value="其他出库">
                                </td>
                                <th>*出库单状态
                                </th>
                                <td>
                                    <select class="chosen-select form-control" data-placeholder="出库单状态"
                                            id="outboundState" name="outboundState" required></select>
                                </td>
                            </tr>
                            <tr>
                                <th>*总数量</th>
                                <td><input class="form-control" id="quantity" name="quantity" readonly required
                                           type="number">
                                </td>
                                <th>总重量</th>
                                <td><input class="form-control" id="weight" name="weight" type="number"></td>
                            </tr>
                            <tr>
                                <th>*总金额（元）</th>
                                <td><input class="form-control" id="amount" name="amount" readonly required
                                           type="number"></td>
                                <th>*仓库经办人</th>
                                <td>
                                    <input class="form-control" id="manager" name="manager" type="hidden">
                                    <input class="form-control" id="managerName" name="managerName" onclick="openUser()"
                                           readonly required
                                           type="text">
                                </td>
                            </tr>
                            <tr>
                                <th>*出库日期</th>
                                <td><input class="form-control" id="outboundDate" name="outboundDate" required
                                           type="date">
                                </td>
                                <th>*仓库</th>
                                <td>
                                    <select class="chosen-select form-control" data-placeholder="仓库" id="repository"
                                            name="repository" required></select>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="form-group">
                        <button class="btn btn-primary" id="add" onclick="addProduct()" type="button">新增</button>
                        <button class="btn btn-danger" id="remove" onclick="removeProduct()" type="button">删除
                        </button>
                    </div>
                    <div class="form-group">
                        <div name="productItems">
                            <input name="productId" type="hidden">
                            <table class="table table-striped table-bordered table-hover">
                                <tr>
                                    <th></th>
                                    <th>物品名称</th>
                                    <th>数量单位</th>
                                    <th>数量</th>
                                    <th>重量单位</th>
                                    <th>总重量</th>
                                    <th>总金额（元）</th>
                                </tr>
                                <tr>
                                    <td><input name="removeProductChecked" type="checkbox"/></td>
                                    <td><input class="form-control" name="productName" readonly type="text"></td>
                                    <td><input class="form-control" name="quantityUnitName" readonly type="text"></td>
                                    <td><input class="form-control" name="_quantity" onchange="refreshData()" required
                                               type="number"></td>
                                    <td><input class="form-control" name="weightUnitName" readonly type="text"></td>
                                    <td><input class="form-control" name="totalWeight" onchange="refreshData()"
                                               type="number"></td>
                                    <td><input class="form-control" name="_amount" readonly type="number"></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div class="form-group" style="display: flex;align-items: center">
                        <label>备注</label>
                        <textarea cols="80" id="remarks" name="remarks"
                                  style="height: 100px;margin-right: 100px" wrap="hard"></textarea>
                        <div class="form-group">
                            <label>附件上传</label>
                            <input id="file_u" name="file_u" onchange="uploadFile()" type="file"/>
                            <input id="file" name="file" readonly type="hidden">
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-8 col-sm-offset-3">
                            <button class="btn btn-primary" type="submit">提交</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
</div>
<div th:include="include::footer"></div>
<script src="/js/appjs/factory/outboundOrder/add.js" type="text/javascript">
</script>
</body>
</html>
