<!DOCTYPE html>
<html>
<meta charset="utf-8">
<head th:include="include :: header"></head>
<body class="gray-bg" onload="window.title='新增合同'">
<script src="js/appjs/factory/contractManage/contractManage.js"></script>
<div class="wrapper wrapper-content ">
    <div align="center" class="page-header text-success">
        <h1>新增合同
        </h1>
    </div>
    <div class="row">
        <div class="col-sm-12">
            <div class="ibox float-e-margins">
                <div class="ibox-content">
                    <form class="form-horizontal m-t" enctype="multipart/form-data" id="signupForm" style="margin:10px">
                        <div class="form-group">
                            <b>基本信息</b>
                            <table class="table table-striped table-bordered table-hover">
                                <tr>
                                    <th>创建时间</th>
                                    <td><input class="form-control" id="createTime" name="createTime" readonly
                                               type="text">
                                    </td>
                                    <th>*合同负责人</th>
                                    <td><input id="dutyUserId" name="dutyUserId" type="hidden">
                                        <input class="form-control" id="dutyUserName" onclick="openUser()" readonly
                                               type="text">
                                    </td>
                                    <th>承办部门</th>
                                    <input id="dutyDeptId" name="dutyDeptId" type="hidden">
                                    <td><input class="form-control" id="dutyDeptName" name="dutyDeptName" readonly
                                               type="text"></td>
                                </tr>
                                <tr>
                                    <th>*合同编号</th>
                                    <td><input class="form-control" id="contractCode" name="contractCode" type="text">
                                    </td>
                                    <th>*合同名称</th>
                                    <td><input class="form-control" id="contractName" name="contractName" type="text">
                                    </td>
                                    <th>*合同类型</th>
                                    <td><select class="chosen-select form-control" data-placeholder="合同类型"
                                                id="contractType"
                                                name="contractType" style="min-width:100%"/></td>
                                </tr>
                                <tr>
                                    <th>签订日期</th>
                                    <td><input class="form-control" id="signDate" name="signDate" type="date"></td>
                                    <th>开始日期</th>
                                    <td><input class="form-control" id="startDate" name="startDate" type="date"></td>
                                    <th>截止日期</th>
                                    <td><input class="form-control" id="endDate" name="endDate" type="date"></td>
                                </tr>
                                <tr>
                                    <th>*合同状态</th>
                                    <td><select class="chosen-select form-control" data-placeholder="合同状态" id="state"
                                                name="state"/></td>
                                    <th>签订地点</th>
                                    <td><input class="form-control" id="signPlace" name="signPlace" type="text"></td>
                                    <th>总金额(元)</th>
                                    <td><input class="form-control" id="contractAmount" name="contractAmount"
                                               type="number">
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="form-group">
                            <button class="btn btn-primary" id="addSupplier" onclick="addSup()" type="button">新增
                            </button>
                            <button class="btn btn-danger" id="delSupplier" onclick="delSup()" type="button">删除</button>
                        </div>
                        <div class="form-group">
                            <div name="supplierItem">
                                <input name="supplierId" type="hidden">
                                <input name="supplierContactPersonId" type="hidden">
                                <input name="delSupChecked" type="checkbox"/><b>供应商1</b>
                                <table class="table table-striped table-bordered table-hover">
                                    <tr>
                                        <th>*供应商名称（全称）</th>
                                        <th>供应商发货地址</th>
                                        <th>供应商联系人</th>
                                        <th>供应商电话</th>
                                    </tr>
                                    <tr>
                                        <td><input class="form-control" readonly type="text"></td>
                                        <td><input class="form-control" name="supSendAddr" type="text"></td>
                                        <td><input class="form-control" onclick="selectContractPerson($(this))"
                                                   readonly type="text"></td>
                                        <td><input class="form-control" readonly type="text"></td>
                                    </tr>
                                    <tr>
                                        <th>纳税人识别号</th>
                                        <th>地址</th>
                                        <th>开户行</th>
                                        <th>开户行账号</th>
                                    </tr>
                                    <tr>
                                        <td><input class="form-control" readonly type="text"></td>
                                        <td><input class="form-control" readonly type="text"></td>
                                        <td><input class="form-control" readonly type="text"></td>
                                        <td><input class="form-control" readonly type="text"></td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <div class="form-group">
                            <button class="btn btn-primary" id="addDemander" onclick="addDem()" type="button">新增
                            </button>
                            <button class="btn btn-danger" id="delDemander" onclick="delDem()" type="button">删除</button>
                        </div>
                        <div class="form-group">
                            <div name="demanderItem">
                                <input name="demanderId" type="hidden">
                                <input name="demanderContactPersonId" type="hidden">
                                <input name="delDemChecked" type="checkbox"/><b>需求商1</b>
                                <table class="table table-striped table-bordered table-hover">
                                    <tr>
                                        <th>*需求商名称（全称）</th>
                                        <th>需求商收货地址</th>
                                        <th>需求商联系人</th>
                                        <th>需求商电话</th>
                                    </tr>
                                    <tr>
                                        <td><input class="form-control" readonly type="text"></td>
                                        <td><input class="form-control" name="demSendAddr" type="text"></td>
                                        <td><input class="form-control" onclick="selectContractPerson($(this))"
                                                   readonly type="text"></td>
                                        <td><input class="form-control" readonly type="text"></td>
                                    </tr>
                                    <tr>
                                        <th>纳税人识别号</th>
                                        <th>地址</th>
                                        <th>开户行</th>
                                        <th>开户行账号</th>
                                    </tr>
                                    <tr>
                                        <td><input class="form-control" readonly type="text"></td>
                                        <td><input class="form-control" readonly type="text"></td>
                                        <td><input class="form-control" readonly type="text"></td>
                                        <td><input class="form-control" readonly type="text"></td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <b>合同内容</b>
                        <div class="form-group">
                            <textarea cols="150" id="contractContent" name="contractContent" row="100"
                                      style="height: 100px" wrap="hard"></textarea>
                        </div>
                        <b>备注/附件</b>
                        <div class="form-group" style="display: flex;align-items: center">
                            <textarea cols="80" id="remarks" name="remarks" row="20"
                                      style="height: 100px;margin-right: 100px" wrap="hard"></textarea>
                            <label style="margin-right: 20px">附件</label><input name="filesFile" type="file"/>
                        </div>
                        <div class="form-group">
                            <div class="col-sm-8 col-sm-offset-3">
                                <button class="btn btn-primary" type="submit">提交</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<div th:include="include::footer"></div>
<script src="/js/appjs/factory/contractManage/add.js" type="text/javascript">
</script>
</body>
</html>
